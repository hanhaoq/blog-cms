{"remainingRequest":"D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\node_modules\\babel-loader\\lib\\index.js!D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\src\\views\\pictureHosting\\TxyunManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\src\\views\\pictureHosting\\TxyunManage.vue","mtime":1675543272000},{"path":"D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\babel.config.js","mtime":1675543272000},{"path":"D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\zzzz\\Hhq_blog\\blog-cms\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L0Rlc2t0b3Avenp6ei9IaHFfYmxvZy9ibG9nLWNtcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmVuZHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU3ZnSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvU3ZnSWNvbiI7CmltcG9ydCB7IGlzSW1nRXh0IH0gZnJvbSAiQC91dGlsL3ZhbGlkYXRlIjsKaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gIkAvdXRpbC91dWlkIjsKaW1wb3J0IHsgY29weSBhcyBfY29weSB9IGZyb20gIkAvdXRpbC9jb3B5IjsKaW1wb3J0IENPUyBmcm9tICdjb3MtanMtc2RrLXY1JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUeHl1bk1hbmFnZSIsCiAgY29tcG9uZW50czogewogICAgU3ZnSWNvbjogU3ZnSWNvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIHsKICAgICAgY29zOiB7fSwKICAgICAgdHh5dW5Db25maWc6IHsKICAgICAgICBzZWNyZXRJZDogJycsCiAgICAgICAgc2VjcmV0S2V5OiAnJywKICAgICAgICBidWNrZXROYW1lOiAnJywKICAgICAgICByZWdpb246ICcnLAogICAgICAgIGRvbWFpbjogJycKICAgICAgfSwKICAgICAgcGF0aEFycjogW3sKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgbGFiZWw6ICfmoLnnm67lvZUnCiAgICAgIH1dLAogICAgICBhY3RpdmVQYXRoOiBbJyddLAogICAgICAvL+m7mOiupOmAieS4reagueebruW9lQogICAgICBwYXRoUHJvcHM6IHsKICAgICAgICBsYXp5OiB0cnVlLAogICAgICAgIGNoZWNrU3RyaWN0bHk6IHRydWUsCiAgICAgICAgbGF6eUxvYWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBfbGF6eUxvYWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobm9kZSwgcmVzb2x2ZSkgewogICAgICAgICAgICB2YXIgcGF0aCwgbm9kZXM7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBwYXRoID0gbm9kZS5wYXRoLmpvaW4oJy8nKTsKICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zdGFydHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDEpIDogcGF0aDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggIT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLmVuZHNXaXRoKCcvJykgPyBwYXRoIDogIiIuY29uY2F0KHBhdGgsICIvIik7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBub2RlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRSZXBvc0NvbnRlbnRzKG5vZGVzLCBwYXRoKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG5vZGVzKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICB9KSk7CgogICAgICAgICAgZnVuY3Rpb24gbGF6eUxvYWQoX3gsIF94MikgewogICAgICAgICAgICByZXR1cm4gX2xhenlMb2FkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGxhenlMb2FkOwogICAgICAgIH0oKQogICAgICB9LAogICAgICBoaW50U2hvdzE6IHRydWUsCiAgICAgIGhpbnRTaG93MjogdHJ1ZSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICBpc0RyYXdlclNob3c6IGZhbHNlLAogICAgICBuYW1lVHlwZTogJzEnLAogICAgICB1cGxvYWRMaXN0OiBbXSwKICAgICAgaXNDdXN0b21QYXRoOiBmYWxzZSwKICAgICAgY3VzdG9tUGF0aDogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcmVhbFBhdGg6IGZ1bmN0aW9uIHJlYWxQYXRoKCkgewogICAgICBpZiAodGhpcy5pc0N1c3RvbVBhdGgpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuY3VzdG9tUGF0aCk7CiAgICAgIH0KCiAgICAgIHZhciBwYXRoID0gdGhpcy5hY3RpdmVQYXRoLmpvaW4oJy8nKTsKICAgICAgcGF0aCA9IHBhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgxKSA6IHBhdGg7CgogICAgICBpZiAocGF0aCAhPSAnJykgewogICAgICAgIHJldHVybiAiIi5jb25jYXQocGF0aCwgIi8iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHBhdGgpOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5oaW50U2hvdzEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHh5dW5IaW50U2hvdzEnKSA/IGZhbHNlIDogdHJ1ZTsKICAgIHRoaXMuaGludFNob3cyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3R4eXVuSGludFNob3cyJykgPyBmYWxzZSA6IHRydWU7CiAgICB2YXIgdHh5dW5Db25maWcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHh5dW5Db25maWcnKTsKCiAgICBpZiAodHh5dW5Db25maWcpIHsKICAgICAgdGhpcy50eHl1bkNvbmZpZyA9IEpTT04ucGFyc2UodHh5dW5Db25maWcpOwogICAgICB0aGlzLnR4eXVuQ29uZmlnLmRvbWFpbiA9IHRoaXMudHh5dW5Db25maWcuZG9tYWluLmVuZHNXaXRoKCcvJykgPyB0aGlzLnR4eXVuQ29uZmlnLmRvbWFpbiA6ICIiLmNvbmNhdCh0aGlzLnR4eXVuQ29uZmlnLmRvbWFpbiwgIi8iKTsKICAgICAgdGhpcy5jb3MgPSBuZXcgQ09TKHsKICAgICAgICBTZWNyZXRJZDogdGhpcy50eHl1bkNvbmZpZy5zZWNyZXRJZCwKICAgICAgICBTZWNyZXRLZXk6IHRoaXMudHh5dW5Db25maWcuc2VjcmV0S2V5CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5tc2dFcnJvcign6K+35YWI6YWN572u6IW+6K6v5LqRJyk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcGljdHVyZUhvc3Rpbmcvc2V0dGluZycpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy/mjaLmiJDmh5LliqDovb0KICAgIGdldFJlcG9zQ29udGVudHM6IGZ1bmN0aW9uIGdldFJlcG9zQ29udGVudHMoYXJyLCBwYXRoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHR4eXVuQ29uZmlnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0eHl1bkNvbmZpZyA9IF90aGlzMi50eHl1bkNvbmZpZzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY29zLmdldEJ1Y2tldCh7CiAgICAgICAgICAgICAgICAgIEJ1Y2tldDogdHh5dW5Db25maWcuYnVja2V0TmFtZSwKCiAgICAgICAgICAgICAgICAgIC8qIOW/hemhuyAqLwogICAgICAgICAgICAgICAgICBSZWdpb246IHR4eXVuQ29uZmlnLnJlZ2lvbiwKCiAgICAgICAgICAgICAgICAgIC8qIOWtmOWCqOahtuaJgOWcqOWcsOWfn++8jOW/hemhu+Wtl+autSAqLwogICAgICAgICAgICAgICAgICBQcmVmaXg6IHBhdGgsCgogICAgICAgICAgICAgICAgICAvKiDpnZ7lv4XpobsgKi8KICAgICAgICAgICAgICAgICAgRGVsaW1pdGVyOiAnLycKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5Db21tb25QcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lID0gaXRlbS5QcmVmaXgucmVwbGFjZShwYXRoLCAnJykuc2xpY2UoMCwgLTEpOyAvL+iuqeaJgOacieiKgueCuemDveaYr+mdnuWPtuWtkOiKgueCuQoKICAgICAgICAgICAgICAgICAgICAvL+iuqeaJgOacieiKgueCuemDveaYr+mdnuWPtuWtkOiKgueCuQogICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgbGVhZjogZmFsc2UKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6I635Y+W5a2Y5YKo56m66Ze05LiL5oyH5a6a55uu5b2V55qE5paH5Lu25YiX6KGoCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIHR4eXVuQ29uZmlnID0gdGhpcy50eHl1bkNvbmZpZzsKICAgICAgdmFyIGZpbGVMaXN0ID0gW107CiAgICAgIHZhciBwYXRoID0gdGhpcy5hY3RpdmVQYXRoLmpvaW4oJy8nKTsKICAgICAgcGF0aCA9IHBhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgxKSA6IHBhdGg7CgogICAgICBpZiAocGF0aCAhPSAnJykgewogICAgICAgIHBhdGggPSBwYXRoLmVuZHNXaXRoKCcvJykgPyBwYXRoIDogIiIuY29uY2F0KHBhdGgsICIvIik7CiAgICAgIH0KCiAgICAgIHRoaXMuY29zLmdldEJ1Y2tldCh7CiAgICAgICAgQnVja2V0OiB0eHl1bkNvbmZpZy5idWNrZXROYW1lLAoKICAgICAgICAvKiDlv4XpobsgKi8KICAgICAgICBSZWdpb246IHR4eXVuQ29uZmlnLnJlZ2lvbiwKCiAgICAgICAgLyog5a2Y5YKo5qG25omA5Zyo5Zyw5Z+f77yM5b+F6aG75a2X5q61ICovCiAgICAgICAgUHJlZml4OiBwYXRoLAoKICAgICAgICAvKiDpnZ7lv4XpobsgKi8KICAgICAgICBEZWxpbWl0ZXI6ICcvJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgZGF0YS5Db250ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiAhaXRlbS5LZXkuZW5kc1dpdGgoJy8nKSAmJiBpc0ltZ0V4dChpdGVtLktleSk7CiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5wYXRoID0gaXRlbS5LZXk7CiAgICAgICAgICBpdGVtLmNkbl91cmwgPSAiIi5jb25jYXQodHh5dW5Db25maWcuZG9tYWluKS5jb25jYXQoaXRlbS5wYXRoKTsKICAgICAgICAgIGl0ZW0ubmFtZSA9IGl0ZW0uS2V5LnJlcGxhY2UocGF0aCwgJycpOwogICAgICAgICAgZmlsZUxpc3QucHVzaChpdGVtKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBmaWxlTGlzdDsKICAgIH0sCiAgICBub0Rpc3BsYXk6IGZ1bmN0aW9uIG5vRGlzcGxheShpZCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidHh5dW5IaW50U2hvdyIuY29uY2F0KGlkKSwgJzEnKTsKICAgIH0sCiAgICBjb3B5OiBmdW5jdGlvbiBjb3B5KHR5cGUsIGZpbGUpIHsKICAgICAgLy8gdHlwZSAxIGNkbiBsaW5rICAyIE1hcmtkb3duCiAgICAgIHZhciBjb3B5Q29udCA9ICcnOwoKICAgICAgaWYgKHR5cGUgPT0gMSkgewogICAgICAgIGNvcHlDb250ID0gZmlsZS5jZG5fdXJsOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gMikgewogICAgICAgIGNvcHlDb250ID0gIiFbIi5jb25jYXQoZmlsZS5uYW1lLCAiXSgiKS5jb25jYXQoZmlsZS5jZG5fdXJsLCAiKSIpOwogICAgICB9CgogICAgICBfY29weShjb3B5Q29udCk7CgogICAgICB0aGlzLm1zZ1N1Y2Nlc3MoJ+WkjeWItuaIkOWKnycpOwogICAgfSwKICAgIC8vIOWIoOmZpOaWh+S7tgogICAgZGVsRmlsZTogZnVuY3Rpb24gZGVsRmlsZShmaWxlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHR4eXVuQ29uZmlnID0gdGhpcy50eHl1bkNvbmZpZzsKICAgICAgdGhpcy4kY29uZmlybSgi5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5paH5Lu2LCDmmK/lkKbliKDpmaQ/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5jb3MuZGVsZXRlT2JqZWN0KHsKICAgICAgICAgIEJ1Y2tldDogdHh5dW5Db25maWcuYnVja2V0TmFtZSwKCiAgICAgICAgICAvKiDloavlhpnoh6rlt7HnmoRidWNrZXTvvIzlv4XpobvlrZfmrrUgKi8KICAgICAgICAgIFJlZ2lvbjogdHh5dW5Db25maWcucmVnaW9uLAoKICAgICAgICAgIC8qIOWtmOWCqOahtuaJgOWcqOWcsOWfn++8jOW/hemhu+Wtl+autSAqLwogICAgICAgICAgS2V5OiBmaWxlLnBhdGgKICAgICAgICAgIC8qIOWtmOWCqOWcqOahtumHjOeahOWvueixoemUru+8iOS+i+WmgjEuanBn77yMYS9iL3Rlc3QudHh077yJ77yM5b+F6aG75a2X5q61ICovCgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLm1zZ1N1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwoKICAgICAgICAgIF90aGlzMy5zZWFyY2goKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMubXNnRXJyb3IoJ+WIoOmZpOWksei0pScpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdFVwbG9hZDogZnVuY3Rpb24gc3VibWl0VXBsb2FkKCkgewogICAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9FbGVtZUZFL2VsZW1lbnQvaXNzdWVzLzEyMDgwCiAgICAgIHRoaXMudXBsb2FkTGlzdCA9IHRoaXMuJHJlZnMudXBsb2FkUmVmLnVwbG9hZEZpbGVzOwoKICAgICAgaWYgKHRoaXMudXBsb2FkTGlzdC5sZW5ndGgpIHsKICAgICAgICAvL+inpuWPkSBlbC11cGxvYWQg5LitIGh0dHAtcmVxdWVzdCDnu5HlrprnmoTlh73mlbAKICAgICAgICB0aGlzLiRyZWZzLnVwbG9hZFJlZi5zdWJtaXQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1zZ0Vycm9yKCfor7flhYjpgInmi6nmlofku7YnKTsKICAgICAgfQogICAgfSwKICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKGRhdGEpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZmlsZU5hbWUgPSBkYXRhLmZpbGUubmFtZTsKCiAgICAgIGlmICh0aGlzLm5hbWVUeXBlID09PSAnMicpIHsKICAgICAgICBmaWxlTmFtZSA9IHJhbmRvbVVVSUQoKSArIGZpbGVOYW1lLnN1YnN0cihmaWxlTmFtZS5sYXN0SW5kZXhPZigiLiIpKTsKICAgICAgfQoKICAgICAgdmFyIHR4eXVuQ29uZmlnID0gdGhpcy50eHl1bkNvbmZpZzsKICAgICAgdmFyIHBhdGggPSB0aGlzLnJlYWxQYXRoOwogICAgICBwYXRoID0gcGF0aC5zdGFydHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDEpIDogcGF0aDsKICAgICAgcGF0aCA9IHBhdGguZW5kc1dpdGgoJy8nKSA/IHBhdGggOiAiIi5jb25jYXQocGF0aCwgIi8iKTsKICAgICAgdGhpcy5jb3MudXBsb2FkRmlsZSh7CiAgICAgICAgQnVja2V0OiB0eHl1bkNvbmZpZy5idWNrZXROYW1lLAoKICAgICAgICAvKiDlv4XpobsgKi8KICAgICAgICBSZWdpb246IHR4eXVuQ29uZmlnLnJlZ2lvbiwKCiAgICAgICAgLyog5a2Y5YKo5qG25omA5Zyo5Zyw5Z+f77yM5b+F6aG75a2X5q61ICovCiAgICAgICAgS2V5OiAiIi5jb25jYXQocGF0aCkuY29uY2F0KGZpbGVOYW1lKSwKCiAgICAgICAgLyog5a2Y5YKo5Zyo5qG26YeM55qE5a+56LGh6ZSu77yI5L6L5aaCOjEuanBn77yMYS9iL3Rlc3QudHh077yM5Zu+54mHLmpwZ++8ieaUr+aMgeS4reaWh++8jOW/hemhu+Wtl+autSAqLwogICAgICAgIEJvZHk6IGRhdGEuZmlsZSwKICAgICAgICAvLyDkuIrkvKDmlofku7blr7nosaEKICAgICAgICBTbGljZVNpemU6IDEwMjQgKiAxMDI0ICogNSwKCiAgICAgICAgLyog6Kem5Y+R5YiG5Z2X5LiK5Lyg55qE6ZiI5YC877yM6LaF6L+HNU1C5L2/55So5YiG5Z2X5LiK5Lyg77yM5bCP5LqONU1C5L2/55So566A5Y2V5LiK5Lyg44CC5Y+v6Ieq6KGM6K6+572u77yM6Z2e5b+F6aG7ICovCiAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24gb25Qcm9ncmVzcyhwcm9ncmVzc0RhdGEpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHByb2dyZXNzRGF0YSkpOwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0Lm1zZ1N1Y2Nlc3MoJ+S4iuS8oOaIkOWKnycpOwoKICAgICAgICBkYXRhLm9uU3VjY2VzcygpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["TxyunManage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div>\n\t\t<el-row>\n\t\t\t<el-select v-model=\"txyunConfig.bucketName\" disabled style=\"min-width: 200px\"></el-select>\n\t\t\t<el-cascader v-model=\"activePath\" placeholder=\"请选择目录\" :options=\"pathArr\" :props=\"pathProps\" style=\"min-width: 450px\"></el-cascader>\n\t\t\t<el-button type=\"primary\" size=\"medium\" icon=\"el-icon-search\" @click=\"search\">查询</el-button>\n\t\t\t<el-button class=\"right-item\" type=\"primary\" size=\"medium\" icon=\"el-icon-upload\" @click=\"isDrawerShow=!isDrawerShow\">上传</el-button>\n\t\t</el-row>\n\t\t<el-alert title=\"只显示<img>标签支持的 apng,avif,bmp,gif,ico,cur,jpg,jpeg,jfif,pjpeg,pjp,png,svg,tif,tiff,webp 格式的图片，见 https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img\" type=\"warning\" show-icon close-text=\"不再提示\" v-if=\"hintShow1\" @close=\"noDisplay(1)\"></el-alert>\n\t\t<el-alert title=\"最多显示100个文件\" type=\"warning\" show-icon close-text=\"不再提示\" v-if=\"hintShow2\" @close=\"noDisplay(2)\"></el-alert>\n\t\t<el-row v-viewer>\n\t\t\t<div class=\"image-container\" v-for=\"(file,index) in fileList\" :key=\"index\">\n\t\t\t\t<el-image :src=\"file.cdn_url\" fit=\"scale-down\"></el-image>\n\t\t\t\t<div class=\"image-content\">\n\t\t\t\t\t<div class=\"info\">\n\t\t\t\t\t\t<span>{{ file.name }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"icons\">\n\t\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" content=\"复制CDN链接\" placement=\"bottom\">\n\t\t\t\t\t\t\t<i class=\"icon el-icon-link\" @click=\"copy(1,file)\"></i>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" content=\"复制MD格式\" placement=\"bottom\">\n\t\t\t\t\t\t\t<SvgIcon icon-class=\"markdown\" class-name=\"icon\" @click=\"copy(2,file)\"></SvgIcon>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t<i class=\"icon el-icon-delete\" @click=\"delFile(file)\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</el-row>\n\n\t\t<el-drawer title=\"上传文件\" :visible.sync=\"isDrawerShow\" direction=\"rtl\" size=\"40%\" :wrapperClosable=\"false\" :close-on-press-escape=\"false\">\n\t\t\t<el-row>\n\t\t\t\t<el-radio v-model=\"nameType\" label=\"1\">使用源文件名</el-radio>\n\t\t\t\t<el-radio v-model=\"nameType\" label=\"2\">使用UUID文件名</el-radio>\n\t\t\t\t<el-button size=\"small\" type=\"primary\" icon=\"el-icon-upload\" v-throttle=\"[submitUpload,`click`,3000]\">确定上传</el-button>\n\t\t\t</el-row>\n\t\t\t<el-row>\n\t\t\t\t当前目录：{{ realPath }}\n\t\t\t</el-row>\n\t\t\t<el-row>\n\t\t\t\t<el-switch v-model=\"isCustomPath\" active-text=\"自定义目录\"></el-switch>\n\t\t\t\t<el-input placeholder=\"例：oldFolder/newFolder/\" v-model=\"customPath\" :disabled=\"!isCustomPath\" size=\"medium\" style=\"margin-top: 10px\"></el-input>\n\t\t\t</el-row>\n\t\t\t<el-upload ref=\"uploadRef\" action=\"\" :http-request=\"upload\" drag multiple :file-list=\"uploadList\" list-type=\"picture\" :auto-upload=\"false\">\n\t\t\t\t<i class=\"el-icon-upload\"></i>\n\t\t\t\t<div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n\t\t\t</el-upload>\n\t\t</el-drawer>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from \"@/components/SvgIcon\";\nimport {isImgExt} from \"@/util/validate\";\nimport {randomUUID} from \"@/util/uuid\";\nimport {copy} from \"@/util/copy\";\nimport COS from 'cos-js-sdk-v5';\n\nexport default {\n\tname: \"TxyunManage\",\n\tcomponents: {SvgIcon},\n\tdata() {\n\t\treturn {\n\t\t\tcos: {},\n\t\t\ttxyunConfig: {\n\t\t\t\tsecretId: '',\n\t\t\t\tsecretKey: '',\n\t\t\t\tbucketName: '',\n\t\t\t\tregion: '',\n\t\t\t\tdomain: ''\n\t\t\t},\n\t\t\tpathArr: [{value: '', label: '根目录'}],\n\t\t\tactivePath: [''],//默认选中根目录\n\t\t\tpathProps: {\n\t\t\t\tlazy: true,\n\t\t\t\tcheckStrictly: true,\n\t\t\t\tlazyLoad: async (node, resolve) => {\n\t\t\t\t\tlet path = node.path.join('/')\n\t\t\t\t\tpath = path.startsWith('/') ? path.slice(1) : path\n\t\t\t\t\tif (path != '') {\n\t\t\t\t\t\tpath = path.endsWith('/') ? path : `${path}/`\n\t\t\t\t\t}\n\t\t\t\t\tlet nodes = []\n\t\t\t\t\tawait this.getReposContents(nodes, path)\n\t\t\t\t\tresolve(nodes)\n\t\t\t\t}\n\t\t\t},\n\t\t\thintShow1: true,\n\t\t\thintShow2: true,\n\t\t\tfileList: [],\n\t\t\tisDrawerShow: false,\n\t\t\tnameType: '1',\n\t\t\tuploadList: [],\n\t\t\tisCustomPath: false,\n\t\t\tcustomPath: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\trealPath() {\n\t\t\tif (this.isCustomPath) {\n\t\t\t\treturn `${this.customPath}`\n\t\t\t}\n\t\t\tlet path = this.activePath.join('/')\n\t\t\tpath = path.startsWith('/') ? path.slice(1) : path\n\t\t\tif (path != '') {\n\t\t\t\treturn `${path}/`\n\t\t\t} else {\n\t\t\t\treturn `${path}`\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.hintShow1 = localStorage.getItem('txyunHintShow1') ? false : true\n\t\tthis.hintShow2 = localStorage.getItem('txyunHintShow2') ? false : true\n\n\t\tconst txyunConfig = localStorage.getItem('txyunConfig')\n\t\tif (txyunConfig) {\n\t\t\tthis.txyunConfig = JSON.parse(txyunConfig)\n\t\t\tthis.txyunConfig.domain = this.txyunConfig.domain.endsWith('/') ? this.txyunConfig.domain : `${this.txyunConfig.domain}/`\n\n\t\t\tthis.cos = new COS({\n\t\t\t\tSecretId: this.txyunConfig.secretId,\n\t\t\t\tSecretKey: this.txyunConfig.secretKey,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.msgError('请先配置腾讯云')\n\t\t\tthis.$router.push('/pictureHosting/setting')\n\t\t}\n\t},\n\tmethods: {\n\t\t//换成懒加载\n\t\tasync getReposContents(arr, path) {\n\t\t\tconst {txyunConfig} = this\n\t\t\tawait this.cos.getBucket({\n\t\t\t\tBucket: txyunConfig.bucketName, /* 必须 */\n\t\t\t\tRegion: txyunConfig.region,     /* 存储桶所在地域，必须字段 */\n\t\t\t\tPrefix: path,           /* 非必须 */\n\t\t\t\tDelimiter: '/'\n\t\t\t}).then(data => {\n\t\t\t\tdata.CommonPrefixes.forEach((item) => {\n\t\t\t\t\titem.name = item.Prefix.replace(path, '').slice(0, -1)\n\t\t\t\t\t//让所有节点都是非叶子节点\n\t\t\t\t\tarr.push({value: item.name, label: item.name, leaf: false})\n\t\t\t\t});\n\t\t\t})\n\t\t},\n\t\t// 获取存储空间下指定目录的文件列表\n\t\tsearch() {\n\t\t\tconst {txyunConfig} = this\n\t\t\tconst fileList = []\n\t\t\tlet path = this.activePath.join('/')\n\t\t\tpath = path.startsWith('/') ? path.slice(1) : path\n\t\t\tif (path != '') {\n\t\t\t\tpath = path.endsWith('/') ? path : `${path}/`\n\t\t\t}\n\t\t\tthis.cos.getBucket({\n\t\t\t\tBucket: txyunConfig.bucketName, /* 必须 */\n\t\t\t\tRegion: txyunConfig.region,     /* 存储桶所在地域，必须字段 */\n\t\t\t\tPrefix: path,           /* 非必须 */\n\t\t\t\tDelimiter: '/'\n\t\t\t}).then(data => {\n\t\t\t\tdata.Contents.filter((item) => !item.Key.endsWith('/') && isImgExt(item.Key)).forEach(item => {\n\t\t\t\t\titem.path = item.Key\n\t\t\t\t\titem.cdn_url = `${txyunConfig.domain}${item.path}`\n\t\t\t\t\titem.name = item.Key.replace(path, '')\n\t\t\t\t\tfileList.push(item)\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.fileList = fileList\n\t\t},\n\t\tnoDisplay(id) {\n\t\t\tlocalStorage.setItem(`txyunHintShow${id}`, '1')\n\t\t},\n\t\tcopy(type, file) {\n\t\t\t// type 1 cdn link  2 Markdown\n\t\t\tlet copyCont = ''\n\t\t\tif (type == 1) {\n\t\t\t\tcopyCont = file.cdn_url\n\t\t\t} else if (type == 2) {\n\t\t\t\tcopyCont = `![${file.name}](${file.cdn_url})`\n\t\t\t}\n\t\t\tcopy(copyCont)\n\t\t\tthis.msgSuccess('复制成功')\n\t\t},\n\t\t// 删除文件\n\t\tdelFile(file) {\n\t\t\tconst {txyunConfig} = this\n\t\t\tthis.$confirm(\"此操作将永久删除该文件, 是否删除?\", \"提示\", {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning',\n\t\t\t}).then(() => {\n\t\t\t\tthis.cos.deleteObject({\n\t\t\t\t\tBucket: txyunConfig.bucketName, /* 填写自己的bucket，必须字段 */\n\t\t\t\t\tRegion: txyunConfig.region,     /* 存储桶所在地域，必须字段 */\n\t\t\t\t\tKey: file.path,              /* 存储在桶里的对象键（例如1.jpg，a/b/test.txt），必须字段 */\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.msgSuccess('删除成功')\n\t\t\t\t\tthis.search()\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.msgError('删除失败')\n\t\t\t\t})\n\t\t\t}).catch(() => {\n\t\t\t\tthis.$message({\n\t\t\t\t\ttype: 'info',\n\t\t\t\t\tmessage: '已取消删除',\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tsubmitUpload() {\n\t\t\t//https://github.com/ElemeFE/element/issues/12080\n\t\t\tthis.uploadList = this.$refs.uploadRef.uploadFiles\n\t\t\tif (this.uploadList.length) {\n\t\t\t\t//触发 el-upload 中 http-request 绑定的函数\n\t\t\t\tthis.$refs.uploadRef.submit()\n\t\t\t} else {\n\t\t\t\tthis.msgError('请先选择文件')\n\t\t\t}\n\t\t},\n\t\tupload(data) {\n\t\t\tlet fileName = data.file.name\n\t\t\tif (this.nameType === '2') {\n\t\t\t\tfileName = randomUUID() + fileName.substr(fileName.lastIndexOf(\".\"))\n\t\t\t}\n\t\t\tconst {txyunConfig} = this\n\t\t\tlet path = this.realPath;\n\t\t\tpath = path.startsWith('/') ? path.slice(1) : path\n\t\t\tpath = path.endsWith('/') ? path : `${path}/`\n\t\t\tthis.cos.uploadFile({\n\t\t\t\tBucket: txyunConfig.bucketName, /* 必须 */\n\t\t\t\tRegion: txyunConfig.region,     /* 存储桶所在地域，必须字段 */\n\t\t\t\tKey: `${path}${fileName}`,              /* 存储在桶里的对象键（例如:1.jpg，a/b/test.txt，图片.jpg）支持中文，必须字段 */\n\t\t\t\tBody: data.file, // 上传文件对象\n\t\t\t\tSliceSize: 1024 * 1024 * 5,     /* 触发分块上传的阈值，超过5MB使用分块上传，小于5MB使用简单上传。可自行设置，非必须 */\n\t\t\t\tonProgress: function (progressData) {\n\t\t\t\t\tconsole.log(JSON.stringify(progressData));\n\t\t\t\t}\n\t\t\t}).then(() => {\n\t\t\t\tthis.msgSuccess('上传成功')\n\t\t\t\tdata.onSuccess()\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style>\n.el-drawer__body {\n\tmargin: 0 20px;\n\toverflow: auto;\n}\n\n.el-drawer__body .el-upload {\n\tmargin-top: 20px;\n}\n\n.el-drawer__body .el-upload, .el-drawer__body .el-upload-dragger {\n\twidth: 100%;\n}\n</style>\n\n<style scoped>\n.el-row + .el-row, .el-row + .el-alert, .el-alert + .el-row {\n\tmargin-top: 20px;\n}\n\n.el-alert + .el-alert {\n\tmargin-top: 10px;\n}\n\n.el-select + .el-cascader, .el-cascader + .el-button, .el-button + .el-switch {\n\tmargin-left: 10px;\n}\n\n.el-switch + .el-button {\n\tmargin-left: 30px;\n}\n\n.image-container {\n\tposition: relative;\n\twidth: 200px;\n\theight: 200px;\n\toverflow: hidden;\n\tdisplay: inline-block;\n\tmargin: 0 2px;\n}\n\n.el-image {\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 1;\n}\n\n.image-content {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.image-content .info {\n\tbackground: linear-gradient(0deg, transparent, rgba(0, 0, 0, .6));\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\tpadding: 6px;\n\tfont-size: 12px;\n\tcolor: #fff;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tz-index: 2;\n}\n\n.image-content .info span {\n\tword-wrap: break-word;\n}\n\n.image-container:hover .image-content .info {\n\topacity: 1;\n\ttransition-duration: 0.25s;\n}\n\n.icons {\n\tposition: absolute;\n\tright: 8px;\n\tbottom: 8px;\n\tz-index: 2;\n}\n\n.icon {\n\ttext-decoration: none;\n\tfont-size: 22px;\n\tmargin-left: 20px;\n\ttransform: translateY(80px);\n\tcursor: pointer;\n}\n\n.image-container:hover .icon {\n\ttransform: translateY(0px);\n}\n\n.icon:nth-child(1) {\n\ttransition: transform 0.25s 0.05s, color 0.3s;\n}\n\n.icon:nth-child(2) {\n\ttransition: transform 0.25s 0.1s, color 0.3s;\n}\n\n.icon:nth-child(3) {\n\ttransition: transform 0.25s 0.15s, color 0.3s;\n}\n\n.icon:nth-child(1):hover {\n\tcolor: #409EFF;\n}\n\n.icon:nth-child(2):hover {\n\tcolor: #409EFF;\n}\n\n.icon:nth-child(3):hover {\n\tcolor: #F56C6C;\n}\n\n.image-content::before {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 0;\n\tbottom: 0;\n\tbackground: rgba(255, 255, 255, 0.7);\n\twidth: 100%;\n\theight: 0;\n\tclip-path: polygon(0 100%, 100% 0, 100% 100%);\n\ttransition: 0.3s;\n\tz-index: 2;\n}\n\n.image-container:hover .image-content::before {\n\theight: 80px;\n}\n</style>\n"],"sourceRoot":"src/views/pictureHosting"}]}